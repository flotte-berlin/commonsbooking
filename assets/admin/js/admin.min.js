!function(d){"use strict";d(function(){let o=d("#full-day"),n=d("#repetition-start_time"),e=d("#repetition-end_time"),i=!1,a=(o.on("change",function(t){o.is(":checked")?(n.val("00:00"),e.val("23:59"),n.prop("disabled",!0),e.prop("disabled",!0)):(n.prop("disabled",!1),e.prop("disabled",!1))}),o.trigger("change"),d("#item-id")),c=d("#location-id"),r=d("#repetition-start_date"),s=d("#_cb_bookingcode");a.on("change",function(t){var o={itemID:a.val()};d.post(cb_ajax_get_bookable_location.ajax_url,{_ajax_nonce:cb_ajax_get_bookable_location.nonce,action:"cb_get_bookable_location",data:o},function(t){t.success&&c.val(t.locationID)}).then(()=>{u()})});const u=()=>{var t;o.is(":checked")&&(t={itemID:a.val(),locationID:c.val(),startDate:r.val()},d.post(cb_ajax_get_booking_code.ajax_url,{_ajax_nonce:cb_ajax_get_booking_code.nonce,action:"cb_get_booking_code",data:t},function(t){t.success?(s.val(t.bookingCode),i=!1):i||s.val("")}))};s.on("keyup",function(t){i=!0}),r.on("change",function(t){u()}),o.on("change",function(t){u()})})}(jQuery),function(e){"use strict";e(function(){e("#cmb2-metabox-migration #migration-start").on("click",function(t){t.preventDefault(),e("#migration-state").show(),e("#migration-in-progress").show();const o=t=>{e.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:t,geodata:e("#get-geo-locations").is(":checked")},function(t){let n=!0;e.each(t,function(t,o){e("#"+t+"-index").text(o.index),e("#"+t+"-count").text(o.count),"0"==o.complete&&(n=!1)}),n?(e("#migration-in-progress").hide(),e("#migration-done").show()):o(t)})};o(!1)}),e("#cmb2-metabox-migration #booking-update-start").on("click",function(t){t.preventDefault(),e("#booking-migration-in-progress").show(),e.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){e("#booking-migration-in-progress").hide(),e("#booking-migration-done").show()}).fail(function(){e("#booking-migration-in-progress").hide(),e("#booking-migration-failed").show()})})})}(jQuery),function(o){"use strict";o(function(){const t=o("input[name=post_type][value=cb_restriction]").parent("form");t.find("input, select, textarea").on("keyup change paste",function(){t.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(e){"use strict";e(function(){if(e("#templates").length){const o=e("#emailtemplates_mail-booking_ics_attach");const n=[e("#emailtemplates_mail-booking_ics_event-title"),e("#emailtemplates_mail-booking_ics_event-description")],t=function(){var t;t=n,e.each(t,function(){e(this).parents(".cmb-row").show()}),o.prop("checked")||(t=n,e.each(t,function(){e(this).parents(".cmb-row").hide()}),o.prop("checked",!1))};t(),o.click(function(){t()})}})}(jQuery),function(A){"use strict";A(function(){const o=function(o,t){var n=[];return jQuery.grep(t,function(t){-1==jQuery.inArray(t,o)&&n.push(t)}),n},e=function(t){A.each(t,function(){A(this).parents(".cmb-row").hide()})},i=function(t){A.each(t,function(){A(this).parents(".cmb-row").show()})};if(A("#cmb2-metabox-cb_timeframe-custom-fields").length){const s=A("#timeframe-repetition"),u=A("#type"),d=A("#grid"),l=A("#weekdays1");var t=A("#start-time"),n=A("#end-time"),a=A("#title-timeframe-rep-config");const p=A("#repetition-start"),g=A("#repetition-end"),m=A("#full-day"),_=A("#show-booking-codes"),f=A("#create-booking-codes");var c=A("#booking-codes-download"),r=A("#booking-codes-list");A(".cmb2-id-title-bookings-config");const b=A(".cmb2-id-timeframe-max-days"),h=A(".cmb2-id-timeframe-advance-booking-days");A(".cmb2-id-booking-startday-offset");const k=A(".cmb2-id-allowed-user-roles"),v=[a,m,t,n,l,p,g,d],x=[m,t,n,d,p,g],j=[d,t,n],w=[f,r,c,_],y=function(){2==A("option:selected",u).val()?(b.show(),h.show(),k.show()):(b.hide(),h.hide(),k.hide())},Q=(y(),u.change(function(){y()}),function(){A("option:selected",s).val();(m.prop("checked")?(d.prop("selected",!1),e):i)(j)}),D=(Q(),m.change(function(){Q()}),function(){var t=A("option:selected",s).val();t?("norep"==t?(i(x),e(o(x,v))):(i(v),e(o(v,x))),"w"==t?l.parents(".cmb-row").show():(l.parents(".cmb-row").hide(),t=A("input[name*=weekdays]"),A.each(t,function(){A(this).prop("checked",!1)})),Q()):(e(x),e(v))}),I=(D(),s.change(function(){D()}),function(){var t=m.prop("checked"),o=u.val(),n=p.val();g.val();e(w),n&&t&&2==o&&(i(w),f.prop("checked")||(e([_]),_.prop("checked",!1)))});I();a=[p,g,m,u,f];A.each(a,function(t,o){o.change(function(){I()})})}})}(jQuery),function(t){"use strict";t(function(){t(document).tooltip()})}(jQuery);