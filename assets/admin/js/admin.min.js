!function(g){"use strict";g(function(){let o=g("#full-day"),n=g("#repetition-start_time"),e=g("#repetition-end_time"),i=!1,c=(o.on("change",function(t){o.is(":checked")?(n.val("00:00"),e.val("23:59"),n.hide(),e.hide()):(n.show(),e.show())}),o.trigger("change"),g("#item-id")),a=g("#location-id"),r=g("#repetition-start_date"),s=g("#_cb_bookingcode");c.on("change",function(t){var n={itemID:c.val()};g.post(cb_ajax_get_bookable_location.ajax_url,{_ajax_nonce:cb_ajax_get_bookable_location.nonce,action:"cb_get_bookable_location",data:n},function(t){t.success&&(a.val(t.locationID),o.prop("checked",t.fullDay),o.trigger("change"))}).then(()=>{u()})}),c.trigger("change");const u=()=>{var t;o.is(":checked")&&(t={itemID:c.val(),locationID:a.val(),startDate:r.val()},g.post(cb_ajax_get_booking_code.ajax_url,{_ajax_nonce:cb_ajax_get_booking_code.nonce,action:"cb_get_booking_code",data:t},function(t){t.success?(s.val(t.bookingCode),i=!1):i||s.val("")}))};s.on("keyup",function(t){i=!0}),r.on("change",function(t){u()}),o.on("change",function(t){u()})})}(jQuery),function(e){"use strict";e(function(){e("#cmb2-metabox-migration #migration-start").on("click",function(t){t.preventDefault(),e("#migration-state").show(),e("#migration-in-progress").show();const n=t=>{e.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:t,geodata:e("#get-geo-locations").is(":checked")},function(t){let o=!0;e.each(t,function(t,n){e("#"+t+"-index").text(n.index),e("#"+t+"-count").text(n.count),"0"==n.complete&&(o=!1)}),o?(e("#migration-in-progress").hide(),e("#migration-done").show()):n(t)})};n(!1)}),e("#cmb2-metabox-migration #booking-update-start").on("click",function(t){t.preventDefault(),e("#booking-migration-in-progress").show(),e.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){e("#booking-migration-in-progress").hide(),e("#booking-migration-done").show()}).fail(function(){e("#booking-migration-in-progress").hide(),e("#booking-migration-failed").show()})})})}(jQuery),function(n){"use strict";n(function(){const t=n("input[name=post_type][value=cb_restriction]").parent("form");t.find("input, select, textarea").on("keyup change paste",function(){t.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(e){"use strict";e(function(){if(e("#templates").length){const n=e("#emailtemplates_mail-booking_ics_attach");const o=[e("#emailtemplates_mail-booking_ics_event-title"),e("#emailtemplates_mail-booking_ics_event-description")],t=function(){var t;t=o,e.each(t,function(){e(this).parents(".cmb-row").show()}),n.prop("checked")||(t=o,e.each(t,function(){e(this).parents(".cmb-row").hide()}),n.prop("checked",!1))};t(),n.click(function(){t()})}})}(jQuery),function(z){"use strict";z(function(){const n=function(n,t){var o=[];return jQuery.grep(t,function(t){-1==jQuery.inArray(t,n)&&o.push(t)}),o},e=function(t){z.each(t,function(){z(this).parents(".cmb-row").hide()})},i=function(t){z.each(t,function(){z(this).parents(".cmb-row").show()})};if(z("#cmb2-metabox-cb_timeframe-custom-fields").length){const f=z("#timeframe-repetition"),m=z("#type"),p=z("#grid"),_=z("#weekdays1");var t=z("#start-time"),o=z("#end-time"),c=z("#title-timeframe-rep-config");const h=z("#repetition-start"),b=z("#repetition-end"),k=z("#full-day"),v=z("#show-booking-codes"),x=z("#create-booking-codes");var a=z("#booking-codes-download"),r=z("#booking-codes-list"),s=z(".cmb2-id-title-bookings-config"),u=z(".cmb2-id-timeframe-max-days"),g=z(".cmb2-id-timeframe-advance-booking-days"),d=z(".cmb2-id-booking-startday-offset"),l=z(".cmb2-id-allowed-user-roles");const j=[c,k,t,o,_,h,b,p],w=[k,t,o,p,h,b],y=[p,t,o],D=[x,r,a,v],Q=[s,u,g,d,l],I=function(){2==z("option:selected",m).val()?z.each(Q,function(){z(this).show()}):z.each(Q,function(){z(this).hide()})},A=(I(),m.change(function(){I()}),function(){z("option:selected",f).val();(k.prop("checked")?(p.prop("selected",!1),p.val(0),e):i)(y)}),C=(A(),k.change(function(){A()}),function(){var t=z("option:selected",f).val();t?("norep"==t?(i(w),e(n(w,j))):(i(j),e(n(j,w))),"w"==t?_.parents(".cmb-row").show():(_.parents(".cmb-row").hide(),t=z("input[name*=weekdays]"),z.each(t,function(){z(this).prop("checked",!1)})),A()):(e(w),e(j))}),q=(C(),f.change(function(){C()}),function(){var t=k.prop("checked"),n=m.val(),o=h.val();b.val();e(D),o&&t&&2==n&&(i(D),x.prop("checked")||(e([v]),v.prop("checked",!1)))});q();c=[h,b,k,m,x];z.each(c,function(t,n){n.change(function(){q()})})}})}(jQuery),function(t){"use strict";t(function(){t(document).tooltip()})}(jQuery);